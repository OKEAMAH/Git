tests/test_contract_opcodes.py::TestContractOpcodes::test_packunpack

storage
  Unit
emitted operations
  
big_map diff
  
trace
  - location: 14 (remaining gas: 132979328 units remaining)
    [ (Pair (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
                  0x05070707070100000004746f746f020000000800030007000900010200000006000100020003)
            Unit)  	 ]
  - location: 15 (remaining gas: 132979268 units remaining)
    [ (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f020000000800030007000900010200000006000100020003)  	@parameter ]
  - location: 18 (remaining gas: 132979168 units remaining)
    [ (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f020000000800030007000900010200000006000100020003)  	@parameter
      (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f020000000800030007000900010200000006000100020003)  	@parameter ]
  - location: 19 (remaining gas: 132979108 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f020000000800030007000900010200000006000100020003)  	@parameter ]
  - location: 22 (remaining gas: 132978988 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 21 (remaining gas: 132978968 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 20 (remaining gas: 132978968 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: -1 (remaining gas: 132978948 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 16 (remaining gas: 132978928 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 25 (remaining gas: 132978808 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 24 (remaining gas: 132978788 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 23 (remaining gas: 132978788 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 26 (remaining gas: 132949564 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	@packed
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 29 (remaining gas: 132949424 units remaining)
    [ 0  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 30 (remaining gas: 132949324 units remaining)
    [ True  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: -1 (remaining gas: 132949304 units remaining)
    [ True  	
      0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 32 (remaining gas: 132949224 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: -1 (remaining gas: 132949204 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	 ]
  - location: 37 (remaining gas: 132900140 units remaining)
    [ (Some (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 }))  	@unpacked ]
  - location: 51 (remaining gas: 132900040 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	@unpacked.some ]
  - location: 45 (remaining gas: 132900020 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	@unpacked.some ]
  - location: 52 (remaining gas: 132899960 units remaining)
    [  ]
  - location: 53 (remaining gas: 132899900 units remaining)
    [ Unit  	 ]
  - location: 54 (remaining gas: 132899840 units remaining)
    [ {}  	
      Unit  	 ]
  - location: 56 (remaining gas: 132899780 units remaining)
    [ (Pair {} Unit)  	 ]
  - location: -1 (remaining gas: 132899760 units remaining)
    [ (Pair {} Unit)  	 ]

Runtime error in contract [CONTRACT_HASH]:
  1: parameter (pair (pair (pair string (list int)) (set nat)) bytes) ;
  2: storage unit ;
  3: code { CAR ; UNPAIR ; DIP { DUP } ;
  4:        PACK ; ASSERT_CMPEQ ;
  5:        UNPACK (pair (pair string (list int)) (set nat)) ; ASSERT_SOME ; DROP ;
  6:        UNIT ; NIL operation ; PAIR }
  7: 
At line 4 characters 14 to 26,
script reached FAILWITH instruction
with Unit
trace
  - location: 14 (remaining gas: 132979328 units remaining)
    [ (Pair (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
                  0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004)
            Unit)  	 ]
  - location: 15 (remaining gas: 132979268 units remaining)
    [ (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004)  	@parameter ]
  - location: 18 (remaining gas: 132979168 units remaining)
    [ (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004)  	@parameter
      (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004)  	@parameter ]
  - location: 19 (remaining gas: 132979108 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      (Pair (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })
            0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004)  	@parameter ]
  - location: 22 (remaining gas: 132978988 units remaining)
    [ 0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 21 (remaining gas: 132978968 units remaining)
    [ 0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 20 (remaining gas: 132978968 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: -1 (remaining gas: 132978948 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 16 (remaining gas: 132978928 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 25 (remaining gas: 132978808 units remaining)
    [ 0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 24 (remaining gas: 132978788 units remaining)
    [ 0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 23 (remaining gas: 132978788 units remaining)
    [ (Pair (Pair "toto" { 3 ; 7 ; 9 ; 1 }) { 1 ; 2 ; 3 })  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 26 (remaining gas: 132949564 units remaining)
    [ 0x05070707070100000004746f746f020000000800030007000900010200000006000100020003  	@packed
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 29 (remaining gas: 132949424 units remaining)
    [ -1  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 30 (remaining gas: 132949324 units remaining)
    [ False  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: -1 (remaining gas: 132949304 units remaining)
    [ False  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
  - location: 35 (remaining gas: 132949164 units remaining)
    [ Unit  	
      0x05070707070100000004746f746f0200000008000300070009000102000000060001000200030004  	 ]
Fatal error:
  error running script
