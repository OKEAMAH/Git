<style>.cmdline { font-family: monospace }.cmddoc { white-space: pre-wrap ; font-family: monospace; line-height: 170%; margin: 0 0 20px 0 }.cmdline { background: #343131; padding: 2px 8px; border-radius:10px; color: white; margin: 5px; }.cmdline+.cmddoc { margin: -5px 5px 0 20px; padding: 5px }.opt,.arg { background: #343131; font-weight: bold;  padding: 2px 4px; border-radius:5px; }.kwd { font-weight: bold; } .opt { color:#CF0; background: #460; } .arg { color: #CEF; background: #369; }</style>
<h3>Usage</h3>

<ul>
<li>
<div class='cmdline'>tezos-snoop [<span class='opt'>global options</span>] <span class='kwd'>command</span> [<span class='opt'>command options</span>]</div>
</li>

<li>
<div class='cmdline'>tezos-snoop <span class='opt'>--help</span> (for global options)</div>
</li>

<li>
<div class='cmdline'>tezos-snoop [<span class='opt'>global options</span>] <span class='kwd'>command</span> <span class='opt'>--help</span> (for command options)</div>
</li>

<li>
<div class='cmdline'>tezos-snoop <span class='opt'>--version</span> (for version information)</div>
</li>
</ul>


<h3>To browse the documentation</h3>

<ul>
<li>
<div class='cmdline'>tezos-snoop [<span class='opt'>global options</span>] <span class='kwd'>man</span> (for a list of commands)</div>
</li>

<li>
<div class='cmdline'>tezos-snoop [<span class='opt'>global options</span>] <span class='kwd'>man</span> <span class='opt'>-v 3</span> (for the full manual)</div>
</li>
</ul>


<h3>Global options (must come before the command)</h3>

<div class='cmddoc'><span class='opt'>--list-solvers</span>: List all available solvers
<span class='opt'>--list-models</span>: List all models</div>


<h3>Access the documentation</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>man</span> [<span class='arg'>keyword</span>...] [<span class='opt'>-v --verbosity &lt;0|1|2|3&gt;</span>] [<span class='opt'>--format &lt;plain|colors|html&gt;</span>]</div>

<div class='cmddoc'>Print documentation of commands.
  Add search keywords to narrow list.
  Will display only the commands by default, unless [-verbosity &lt;2|3&gt;] is
  passed or the list of matching commands if less than 3.
<span class='arg'>keyword</span>: keyword to search for
  If several are given they must all appear in the command.
<span class='opt'>-v --verbosity &lt;0|1|2|3&gt;</span>: level of details
  0. Only shows command mnemonics, without documentation.
  1. Shows command mnemonics with short descriptions.
  2. Show commands and arguments with short descriptions
  3. Show everything
<span class='opt'>--format &lt;plain|colors|html&gt;</span>: the manual's output format
  Defaults to `plain`.</div>
</li>
</ul>


<h3>Command for generating random sapling transactions</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>alpha</span> <span class='kwd'>sapling</span> <span class='kwd'>generate</span> <span class='arg'>SAPLING-TX-COUNT</span> <span class='kwd'>transactions</span> <span class='kwd'>in</span> <span class='arg'>SAPLING-TX-FILE</span> [<span class='opt'>--max-inputs &lt;integer&gt;</span>] [<span class='opt'>--max-outputs &lt;integer&gt;</span>] [<span class='opt'>--max-nullifiers &lt;integer&gt;</span>] [<span class='opt'>--max-additional-commitments &lt;integer&gt;</span>] [<span class='opt'>--seed &lt;int&gt;</span>]</div>

<div class='cmddoc'>Sapling transaction generation
<span class='arg'>SAPLING-TX-COUNT</span>: Number of sapling transactions to generate
<span class='arg'>SAPLING-TX-FILE</span>: File containing sapling transactions
<span class='opt'>--max-inputs &lt;integer&gt;</span>: Maximum number of inputs
<span class='opt'>--max-outputs &lt;integer&gt;</span>: Maximum number of outputs
<span class='opt'>--max-nullifiers &lt;integer&gt;</span>: Maximum number of nullifiers
<span class='opt'>--max-additional-commitments &lt;integer&gt;</span>: Maximum number of additional-commitments
<span class='opt'>--seed &lt;int&gt;</span>: RNG seed</div>
</li>
</ul>


<h3>Command for generating random Michelson code and data</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>alpha</span> <span class='kwd'>michelson</span> <span class='kwd'>generate</span> <span class='arg'>TERMS-COUNT</span> <span class='kwd'>terms</span> <span class='kwd'>of</span> <span class='kwd'>kind</span> <span class='arg'>{data|code}</span> <span class='kwd'>in</span> <span class='arg'>FILENAME</span> [<span class='opt'>--min-size &lt;int&gt;</span>] [<span class='opt'>--max-size &lt;int&gt;</span>] [<span class='opt'>--burn-in &lt;int&gt;</span>] [<span class='opt'>--seed &lt;int&gt;</span>]</div>

<div class='cmddoc'>Michelson generation
<span class='arg'>TERMS-COUNT</span>: Number of terms to generate
<span class='arg'>{data|code}</span>: Kind of term to generate
<span class='arg'>FILENAME</span>: File where to save Michelson terms
<span class='opt'>--min-size &lt;int&gt;</span>: Lower bound for target size of terms
<span class='opt'>--max-size &lt;int&gt;</span>: Lower bound for target size of terms
<span class='opt'>--burn-in &lt;int&gt;</span>: Burn-in multiplier
<span class='opt'>--seed &lt;int&gt;</span>: RNG seed</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>alpha</span> <span class='kwd'>michelson</span> <span class='kwd'>concat</span> <span class='kwd'>files</span> <span class='arg'>FILENAME</span> <span class='kwd'>and</span> <span class='arg'>FILENAME</span> <span class='kwd'>into</span> <span class='arg'>FILENAME</span></div>

<div class='cmddoc'>Michelson generation
<span class='arg'>FILENAME</span>: First file
<span class='arg'>FILENAME</span>: Second file
<span class='arg'>FILENAME</span>: Target file</div>
</li>
</ul>


<h3>Commands for displaying lists</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>all</span> <span class='kwd'>benchmarks</span> [<span class='opt'>-t --show-tags</span>]</div>

<div class='cmddoc'>List all implemented benchmarks
<span class='opt'>-t --show-tags</span>: Show the tags of the benchmarks</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>all</span> <span class='kwd'>tags</span></div>

<div class='cmddoc'>List all available tags</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>benchmarks</span> <span class='kwd'>with</span> <span class='kwd'>tags</span> <span class='kwd'>any</span> <span class='kwd'>of</span> [<span class='arg'>TAG</span>...] [<span class='opt'>-t --show-tags</span>]</div>

<div class='cmddoc'>List all implemented benchmarks containing any of the given tags
<span class='arg'>TAG</span>: Tag of a benchmark
<span class='opt'>-t --show-tags</span>: Show the tags of the benchmarks</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>benchmarks</span> <span class='kwd'>with</span> <span class='kwd'>tags</span> <span class='kwd'>all</span> <span class='kwd'>of</span> [<span class='arg'>TAG</span>...] [<span class='opt'>-t --show-tags</span>]</div>

<div class='cmddoc'>List all implemented benchmarks containing all of the given tags
<span class='arg'>TAG</span>: Tag of a benchmark
<span class='opt'>-t --show-tags</span>: Show the tags of the benchmarks</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>benchmarks</span> <span class='kwd'>with</span> <span class='kwd'>tags</span> <span class='kwd'>exactly</span> [<span class='arg'>TAG</span>...] [<span class='opt'>-t --show-tags</span>]</div>

<div class='cmddoc'>List all implemented benchmarks containing exactly the given tags
<span class='arg'>TAG</span>: Tag of a benchmark
<span class='opt'>-t --show-tags</span>: Show the tags of the benchmarks</div>
</li>
</ul>


<h3>Command for generating code</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>generate</span> <span class='kwd'>code</span> <span class='kwd'>using</span> <span class='kwd'>solution</span> <span class='arg'>SOLUTION-FILE</span> <span class='kwd'>and</span> <span class='kwd'>model</span> <span class='arg'>MODEL-NAME</span> [<span class='opt'>--fixed-point &lt;json-config-file&gt;</span>]</div>

<div class='cmddoc'>Generate code for a specific model
<span class='arg'>SOLUTION-FILE</span>: File containing solution, as obtained using the --save-solution switch
<span class='arg'>MODEL-NAME</span>: Name of the model for which to generate code
<span class='opt'>--fixed-point &lt;json-config-file&gt;</span>: Apply fixed-point transform to the model</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>generate</span> <span class='kwd'>code</span> <span class='kwd'>using</span> <span class='kwd'>solution</span> <span class='arg'>SOLUTION-FILE</span> <span class='kwd'>for</span> <span class='kwd'>all</span> <span class='kwd'>models</span> <span class='kwd'>matching</span> <span class='arg'>REGEXP</span> [<span class='opt'>--fixed-point &lt;json-config-file&gt;</span>]</div>

<div class='cmddoc'>Generate code for all models matching regexp
<span class='arg'>SOLUTION-FILE</span>: File containing solution, as obtained using the --save-solution switch
<span class='arg'>REGEXP</span>: Regular expression on model names
<span class='opt'>--fixed-point &lt;json-config-file&gt;</span>: Apply fixed-point transform to the model</div>
</li>
</ul>


<h3>Command for infering parameters of cost models</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>infer</span> <span class='kwd'>parameters</span> <span class='kwd'>for</span> <span class='kwd'>model</span> <span class='arg'>MODEL-NAME</span> <span class='kwd'>on</span> <span class='kwd'>data</span> <span class='arg'>WORKLOAD-DATA</span> <span class='kwd'>using</span> <span class='arg'>REGRESSION-METHOD</span> [<span class='opt'>--print-problem</span>] [<span class='opt'>--dump-csv &lt;filename&gt;</span>] [<span class='opt'>--plot</span>] [<span class='opt'>--ridge-alpha &lt;positive float&gt;</span>] [<span class='opt'>--lasso-alpha &lt;positive float&gt;</span>] [<span class='opt'>--lasso-positive</span>] [<span class='opt'>--report &lt;filename&gt;</span>] [<span class='opt'>--override-csv &lt;filename&gt;</span>] [<span class='opt'>--save-solution &lt;filename&gt;</span>] [<span class='opt'>--dot-file &lt;filename&gt;</span>] [<span class='opt'>--full-plot-verbosity</span>] [<span class='opt'>--plot-raw-workload &lt;directory&gt;</span>] [<span class='opt'>--empirical-plot &lt;full|q1,...,qn&gt;</span>]</div>

<div class='cmddoc'>Perform parameter inference
<span class='arg'>MODEL-NAME</span>: Name of the model for which to infer parameter
<span class='arg'>WORKLOAD-DATA</span>: File or directory containing workload data
<span class='arg'>REGRESSION-METHOD</span>: Regression method used
<span class='opt'>--print-problem</span>: Prints problem as obtained after applying model to workload data
<span class='opt'>--dump-csv &lt;filename&gt;</span>: Dumps solution of inference to a CSV file
<span class='opt'>--plot</span>: Plot results of parameter inference
<span class='opt'>--ridge-alpha &lt;positive float&gt;</span>: Regularization parameter for ridge regression
<span class='opt'>--lasso-alpha &lt;positive float&gt;</span>: Regularization parameter for lasso regression
<span class='opt'>--lasso-positive</span>: Constrains solution of lasso regression to be positive
<span class='opt'>--report &lt;filename&gt;</span>: Produces a detailed report
<span class='opt'>--override-csv &lt;filename&gt;</span>: Specify CSV file containing overrided variables for inference
<span class='opt'>--save-solution &lt;filename&gt;</span>: Specify file to which inference solution will be saved for code generation
<span class='opt'>--dot-file &lt;filename&gt;</span>: Specify file to which dependency graph will be saved in graphviz format
<span class='opt'>--full-plot-verbosity</span>: Produces all (possibly redundant) plots
<span class='opt'>--plot-raw-workload &lt;directory&gt;</span>: For each workload, produces a file containing the plot of the raw data, in the specified directory
<span class='opt'>--empirical-plot &lt;full|q1,...,qn&gt;</span>: Options for plotting empirical data quantiles</div>
</li>
</ul>


<h3>Commands for benchmarking parts of the protocol</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>benchmark</span> <span class='arg'>BENCH-NAME</span> <span class='kwd'>and</span> <span class='kwd'>save</span> <span class='kwd'>to</span> <span class='arg'>FILENAME</span> [<span class='opt'>--nsamples &lt;strictly positive int&gt;</span>] [<span class='opt'>--seed &lt;int&gt;</span>] [<span class='opt'>--bench-num &lt;strictly positive int&gt;</span>] [<span class='opt'>--minor-heap-size &lt;strictly positive int&gt;</span>] [<span class='opt'>-c --config-dir &lt;directory&gt;</span>] [<span class='opt'>--dump-csv &lt;filename&gt;</span>]</div>

<div class='cmddoc'>Runs benchmarks
<span class='arg'>BENCH-NAME</span>: Name of the benchmark
<span class='arg'>FILENAME</span>: Name of the file where to save the workload data
<span class='opt'>--nsamples &lt;strictly positive int&gt;</span>: Number of samples per benchmark
<span class='opt'>--seed &lt;int&gt;</span>: RNG seed
<span class='opt'>--bench-num &lt;strictly positive int&gt;</span>: Number of benchmarks (i.e. random stacks)
<span class='opt'>--minor-heap-size &lt;strictly positive int&gt;</span>: Size of minor heap in words
<span class='opt'>-c --config-dir &lt;directory&gt;</span>: Specify directory where to search for benchmark configuration files
<span class='opt'>--dump-csv &lt;filename&gt;</span>: Dumps raw benchmark results to CSV</div>
</li>
</ul>

