<style>.cmdline { font-family: monospace }.cmddoc { white-space: pre-wrap ; font-family: monospace; line-height: 170%; margin: 0 0 20px 0 }.cmdline { background: #343131; padding: 2px 8px; border-radius:10px; color: white; margin: 5px; }.cmdline+.cmddoc { margin: -5px 5px 0 20px; padding: 5px }.opt,.arg { background: #343131; font-weight: bold;  padding: 2px 4px; border-radius:5px; }.kwd { font-weight: bold; } .opt { color:#CF0; background: #460; } .arg { color: #CEF; background: #369; }</style>
<h3>Usage</h3>

<ul>
<li>
<div class='cmdline'>tezos-admin-client [<span class='opt'>global options</span>] <span class='kwd'>command</span> [<span class='opt'>command options</span>]</div>
</li>

<li>
<div class='cmdline'>tezos-admin-client <span class='opt'>--help</span> (for global options)</div>
</li>

<li>
<div class='cmdline'>tezos-admin-client [<span class='opt'>global options</span>] <span class='kwd'>command</span> <span class='opt'>--help</span> (for command options)</div>
</li>

<li>
<div class='cmdline'>tezos-admin-client <span class='opt'>--version</span> (for version information)</div>
</li>
</ul>


<h3>To browse the documentation</h3>

<ul>
<li>
<div class='cmdline'>tezos-admin-client [<span class='opt'>global options</span>] <span class='kwd'>man</span> (for a list of commands)</div>
</li>

<li>
<div class='cmdline'>tezos-admin-client [<span class='opt'>global options</span>] <span class='kwd'>man</span> <span class='opt'>-v 3</span> (for the full manual)</div>
</li>
</ul>


<h3>Global options (must come before the command)</h3>

<div class='cmddoc'><span class='opt'>-d --base-dir &lt;path&gt;</span>: client data directory (absent: TEZOS_CLIENT_DIR env)
    The directory where the Tezos client will store all its data.
    If absent, its value is the value of the TEZOS_CLIENT_DIR
    environment variable. If TEZOS_CLIENT_DIR is itself not specified,
    defaults to $HOME/.tezos-client
  
<span class='opt'>-c --config-file &lt;path&gt;</span>: configuration file
<span class='opt'>-t --timings</span>: show RPC request times
<span class='opt'>--chain &lt;hash|tag&gt;</span>: chain on which to apply contextual commands (commands dependent on the context associated with the specified chain). Possible tags are 'main' and 'test'.
  Defaults to `main`.
<span class='opt'>-b --block &lt;hash|level|tag&gt;</span>: block on which to apply contextual commands (commands dependent on the context associated with the specified block). Possible tags include 'head' and 'genesis' +/- an optional offset (e.g. "tezos-client -b head-1 get timestamp"). Note that block queried must exist in node's storage.
  Defaults to `head`.
<span class='opt'>-w --wait &lt;none|&lt;int&gt;&gt;</span>: how many confirmation blocks are needed before an operation is considered included
<span class='opt'>-p --protocol &lt;hash&gt;</span>: use commands of a specific protocol
<span class='opt'>-l --log-requests</span>: log all requests to the node
<span class='opt'>--better-errors</span>: Error reporting is more detailed. Can be used if a call to an RPC fails or if you don't know the input accepted by the RPC. It may happen that the RPC calls take more time however.
<span class='opt'>-A --addr &lt;IP addr|host&gt;</span>: [DEPRECATED: use --endpoint instead] IP address of the node
<span class='opt'>-P --port &lt;number&gt;</span>: [DEPRECATED: use --endpoint instead] RPC port of the node
<span class='opt'>-S --tls</span>: [DEPRECATED: use --endpoint instead] use TLS to connect to node.
<span class='opt'>-m --media-type &lt;json, binary, any or default&gt;</span>: Sets the "media-type" value for the "accept" header for RPC requests to the node. The media accept header indicates to the node which format of data serialisation is supported. Use the value "json" for serialisation to the JSON format.
            Use the value "binary" for faster but less human-readable binary
  serialisation format.
<span class='opt'>-E --endpoint &lt;uri&gt;</span>: HTTP(S) endpoint of the node RPC interface; e.g. 'http://localhost:8732'
<span class='opt'>-s --sources &lt;path&gt;</span>: path to JSON file containing sources for --mode light. Example file content: {"min_agreement": 1.0, "uris": ["http://localhost:8732", "https://localhost:8733"]}
<span class='opt'>-R --remote-signer &lt;uri&gt;</span>: URI of the remote signer
<span class='opt'>-f --password-filename &lt;filename&gt;</span>: path to the password filename
<span class='opt'>-M --mode &lt;client|light|mockup|proxy&gt;</span>: how to interact with the node
  Defaults to `client`.</div>


<h3>Access the documentation</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>man</span> [<span class='arg'>keyword</span>...] [<span class='opt'>-v --verbosity &lt;0|1|2|3&gt;</span>] [<span class='opt'>--format &lt;plain|colors|html&gt;</span>]</div>

<div class='cmddoc'>Print documentation of commands.
  Add search keywords to narrow list.
  Will display only the commands by default, unless [-verbosity &lt;2|3&gt;] is
  passed or the list of matching commands if less than 3.
<span class='arg'>keyword</span>: keyword to search for
  If several are given they must all appear in the command.
<span class='opt'>-v --verbosity &lt;0|1|2|3&gt;</span>: level of details
  0. Only shows command mnemonics, without documentation.
  1. Shows command mnemonics with short descriptions.
  2. Show commands and arguments with short descriptions
  3. Show everything
<span class='opt'>--format &lt;plain|colors|html&gt;</span>: the manual's output format
  Defaults to `plain`.</div>
</li>
</ul>


<h3>Commands to inspect the event-logging framework</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>query</span> <span class='kwd'>events</span> <span class='kwd'>from</span> <span class='arg'>Sink-Name</span> [<span class='opt'>--names &lt;LIST&gt;</span>] [<span class='opt'>--sections &lt;LIST&gt;</span>] [<span class='opt'>--since &lt;DATE&gt;</span>] [<span class='opt'>--until &lt;DATE&gt;</span>] [<span class='opt'>--as-json</span>] [<span class='opt'>--dump-unknown</span>] [<span class='opt'>--for-script &lt;FORMAT&gt;</span>]</div>

<div class='cmddoc'>Query the events from an event sink.
<span class='arg'>Sink-Name</span>: The URI of the SINK to query
<span class='opt'>--names &lt;LIST&gt;</span>: Filter on event names
<span class='opt'>--sections &lt;LIST&gt;</span>: Filter on event sections (use '_' for no-section)
<span class='opt'>--since &lt;DATE&gt;</span>: Filter out events before DATE
<span class='opt'>--until &lt;DATE&gt;</span>: Filter out events after DATE
<span class='opt'>--as-json</span>: Display events as JSON instead of pretty-printing them
<span class='opt'>--dump-unknown</span>: Try to display unknown events
<span class='opt'>--for-script &lt;FORMAT&gt;</span>: Make the output script-friendly. Possible values are 'TSV' and 'CSV'.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>show</span> <span class='kwd'>event-logging</span></div>

<div class='cmddoc'>Display configuration/state information about the internal-event logging framework.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>output</span> <span class='kwd'>schema</span> <span class='kwd'>of</span> <span class='arg'>Event-Name</span> <span class='kwd'>to</span> <span class='arg'>File-path</span></div>

<div class='cmddoc'>Output the JSON schema of an internal-event.
<span class='arg'>Event-Name</span>: Name of the event
<span class='arg'>File-path</span>: Path to a JSON file</div>
</li>
</ul>


<h3>Commands for the low level RPC layer</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>list</span> <span class='arg'>url</span></div>

<div class='cmddoc'>List RPCs under a given URL prefix.
  Some parts of the RPC service hierarchy depend on parameters,
  they are marked by a suffix `&lt;dynamic&gt;`.
  You can list these sub-hierarchies by providing a concrete URL prefix whose
  arguments are set to a valid value.
<span class='arg'>url</span>: the URL prefix</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>list</span></div>

<div class='cmddoc'>Alias to `rpc list /`.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>schema</span> <span class='arg'>HTTP method</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Get the input and output JSON schemas of an RPC.
<span class='arg'>HTTP method</span>: 
<span class='arg'>url</span>: the RPC url</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>format</span> <span class='arg'>HTTP method</span> <span class='arg'>url</span> [<span class='opt'>-b --binary</span>]</div>

<div class='cmddoc'>Get the humanoid readable input and output formats of an RPC.
<span class='arg'>HTTP method</span>: 
<span class='arg'>url</span>: the RPC URL
<span class='opt'>-b --binary</span>: Binary format</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>get</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Call an RPC with the GET method.
<span class='arg'>url</span>: the RPC URL</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>post</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Call an RPC with the POST method.
  It invokes $EDITOR if input data is needed.
<span class='arg'>url</span>: the RPC URL</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>post</span> <span class='arg'>url</span> <span class='kwd'>with</span> <span class='arg'>input</span></div>

<div class='cmddoc'>Call an RPC with the POST method, providing input data via the command line.
<span class='arg'>url</span>: the RPC URL
<span class='arg'>input</span>: the raw JSON input to the RPC
  For instance, use `{}` to send the empty document.
  Alternatively, use `file:path` to read the JSON data from a file.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>patch</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Call an RPC with the PATCH method.
  It invokes $EDITOR if input data is needed.
<span class='arg'>url</span>: the RPC URL</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>patch</span> <span class='arg'>url</span> <span class='kwd'>with</span> <span class='arg'>input</span></div>

<div class='cmddoc'>Call an RPC with the PATCH method, providing input data via the command line.
<span class='arg'>url</span>: the RPC URL
<span class='arg'>input</span>: the raw JSON input to the RPC
  For instance, use `{}` to send the empty document.
  Alternatively, use `file:path` to read the JSON data from a file.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>put</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Call an RPC with the PUT method.
  It invokes $EDITOR if input data is needed.
<span class='arg'>url</span>: the RPC URL</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>put</span> <span class='arg'>url</span> <span class='kwd'>with</span> <span class='arg'>input</span></div>

<div class='cmddoc'>Call an RPC with the PUT method, providing input data via the command line.
<span class='arg'>url</span>: the RPC URL
<span class='arg'>input</span>: the raw JSON input to the RPC
  For instance, use `{}` to send the empty document.
  Alternatively, use `file:path` to read the JSON data from a file.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>rpc</span> <span class='kwd'>delete</span> <span class='arg'>url</span></div>

<div class='cmddoc'>Call an RPC with the DELETE method.
<span class='arg'>url</span>: the RPC URL</div>
</li>
</ul>


<h3>Commands for managing protocols</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>protocols</span></div>

<div class='cmddoc'>List protocols known by the node.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>inject</span> <span class='kwd'>protocol</span> <span class='arg'>dir</span></div>

<div class='cmddoc'>Inject a new protocol into the node.
<span class='arg'>dir</span>: directory containing the sources of a protocol</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>dump</span> <span class='kwd'>protocol</span> <span class='arg'>protocol hash</span></div>

<div class='cmddoc'>Dump a protocol from the node's record of protocol.
<span class='arg'>protocol hash</span>: </div>
</li>

<li>
<div class='cmdline'><span class='kwd'>protocol</span> <span class='kwd'>environment</span> <span class='arg'>protocol hash</span></div>

<div class='cmddoc'>Show the environment version used by a protocol.
<span class='arg'>protocol hash</span>: </div>
</li>

<li>
<div class='cmdline'><span class='kwd'>fetch</span> <span class='kwd'>protocol</span> <span class='arg'>protocol hash</span></div>

<div class='cmddoc'>Fetch a protocol from the network.
<span class='arg'>protocol hash</span>: </div>
</li>
</ul>


<h3>Commands for monitoring and controlling p2p-layer state</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>p2p</span> <span class='kwd'>stat</span></div>

<div class='cmddoc'>show global network status</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>connect</span> <span class='kwd'>address</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Connect to a new point.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>kick</span> <span class='kwd'>peer</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Kick a peer.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>ban</span> <span class='kwd'>address</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Add an IP address and all its ports to the blacklist and kicks it. Remove the address from the whitelist if it was previously in it.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>unban</span> <span class='kwd'>address</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Remove an IP address and all its ports from the blacklist.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>trust</span> <span class='kwd'>address</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Add an IP address to the whitelist. Remove the address from the blacklist if it was previously in it.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>untrust</span> <span class='kwd'>address</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Removes an IP address from the whitelist.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>is</span> <span class='kwd'>address</span> <span class='kwd'>banned</span> <span class='arg'>address</span></div>

<div class='cmddoc'>Check if an IP address is banned.
<span class='arg'>address</span>: &lt;IPv4&gt;:PORT or &lt;IPV6&gt;:PORT address (PORT defaults to 9732).</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>is</span> <span class='kwd'>peer</span> <span class='kwd'>banned</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Check if a peer ID is banned.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>ban</span> <span class='kwd'>peer</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Add a peer ID to the blacklist and kicks it. Remove the peer ID from the blacklist if was previously in it.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>unban</span> <span class='kwd'>peer</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Removes a peer ID from the blacklist.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>trust</span> <span class='kwd'>peer</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Add a peer ID to the whitelist. Remove the peer ID from the blacklist if it was previously in it.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>untrust</span> <span class='kwd'>peer</span> <span class='arg'>peer</span></div>

<div class='cmddoc'>Remove a peer ID from the whitelist.
<span class='arg'>peer</span>: peer network identity</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>clear</span> <span class='kwd'>acls</span></div>

<div class='cmddoc'>Clear all access control rules.</div>
</li>
</ul>


<h3>Commands to perform privileged operations on the node</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>unmark</span> <span class='kwd'>invalid</span> [<span class='arg'>block</span>...]</div>

<div class='cmddoc'>Make the node forget its decision of rejecting blocks.
<span class='arg'>block</span>: blocks to remove from invalid list</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>unmark</span> <span class='kwd'>all</span> <span class='kwd'>invalid</span> <span class='kwd'>blocks</span></div>

<div class='cmddoc'>Make the node forget every decision of rejecting blocks.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>show</span> <span class='kwd'>current</span> <span class='kwd'>checkpoint</span></div>

<div class='cmddoc'>Retrieve the current checkpoint and display it in a format compatible with node argument `--checkpoint`.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>ban</span> <span class='kwd'>operation</span> <span class='arg'>operation</span></div>

<div class='cmddoc'>Remove an operation from the mempool if present, reverting its effect if it was applied. Add it to the set of banned operations to prevent it from being fetched/processed/injected in the future. Note: If the baker has already received the operation, then it's necessary to restart it to flush the operation from it.
<span class='arg'>operation</span>: hash of operation to ban</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>unban</span> <span class='kwd'>operation</span> <span class='arg'>operation</span></div>

<div class='cmddoc'>Remove an operation from the set of banned operations (nothing happens if it was not banned).
<span class='arg'>operation</span>: hash of operation to unban</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>unban</span> <span class='kwd'>all</span> <span class='kwd'>operations</span></div>

<div class='cmddoc'>Clear the set of banned operations.</div>
</li>
</ul>


<h3>Commands to report the node's status</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>heads</span> [<span class='opt'>-o --output &lt;path&gt;</span>]</div>

<div class='cmddoc'>The last heads that have been considered by the node.
<span class='opt'>-o --output &lt;path&gt;</span>: write to a file
  Defaults to `-`.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>rejected</span> <span class='kwd'>blocks</span> [<span class='opt'>-o --output &lt;path&gt;</span>]</div>

<div class='cmddoc'>The blocks that have been marked invalid by the node.
<span class='opt'>-o --output &lt;path&gt;</span>: write to a file
  Defaults to `-`.</div>
</li>
</ul>


<h3>Commands for editing and viewing the client's config file</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>config</span> <span class='kwd'>show</span></div>

<div class='cmddoc'>Show the current config (config file content + command line arguments) or the mockup config files if `--mode mockup` is specified.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>config</span> <span class='kwd'>reset</span></div>

<div class='cmddoc'>Reset the config file to the factory defaults.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>config</span> <span class='kwd'>update</span></div>

<div class='cmddoc'>Update the config based on the current cli values.
  Loads the current configuration (default or as specified with
  `-config-file`), applies alterations from other command line arguments
  (such as the node's address, etc.), and overwrites the updated
  configuration file.</div>
</li>

<li>
<div class='cmdline'><span class='kwd'>config</span> <span class='kwd'>init</span> [<span class='opt'>-o --output &lt;path&gt;</span>] [<span class='opt'>--bootstrap-accounts &lt;path&gt;</span>] [<span class='opt'>--protocol-constants &lt;path&gt;</span>]</div>

<div class='cmddoc'>Create config file(s) based on the current CLI values.
  If the `-file` option is not passed, this will initialize the default
  config file, based on default parameters, altered by other command line
  options (such as the node's address, etc.).
  Otherwise, it will create a new config file, based on the default
  parameters (or the the ones specified with `-config-file`), altered by
  other command line options.
  
  If `-mode mockup` is specified, this will initialize the mockup's default
  files instead of the config file. Use `-bootstrap-accounts` and
  `-protocol-constants` to specify custom paths.
  
  The command will always fail if file(s) to create exist already
<span class='opt'>-o --output &lt;path&gt;</span>: path at which to create the file
  Defaults to `$HOME/.tezos-client/config`.
<span class='opt'>--bootstrap-accounts &lt;path&gt;</span>: path at which to create the file
  Defaults to `$HOME/.tezos-client/bootstrap-accounts.json`.
<span class='opt'>--protocol-constants &lt;path&gt;</span>: path at which to create the file
  Defaults to `$HOME/.tezos-client/protocol-constants.json`.</div>
</li>
</ul>


<h3>Miscellaneous commands</h3>

<ul>
<li>
<div class='cmdline'><span class='kwd'>list</span> <span class='kwd'>understood</span> <span class='kwd'>protocols</span></div>

<div class='cmddoc'>List the protocol versions that this client understands.</div>
</li>
</ul>

