tezos-rust-sdk:
  stage: test-tezos-rust-sdk
  image: rust:1.66.0
  script:
    - apt-get update -qy && apt-get install -y openssl libssl-dev clang
    - rustup update
    - rustup component add rustfmt clippy
    - rustup target add wasm32-unknown-unknown
    - cd contrib/tezos-rust-sdk
    - cargo check --locked
    - cargo build --release
    - cargo test
    - cargo fmt -- --check
  when: manual
