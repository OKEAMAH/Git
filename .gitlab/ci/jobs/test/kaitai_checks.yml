# This file was automatically generated, do not edit.
# Edit file ci/bin/main.ml instead.

kaitai_checks:
  image: ${build_deps_image_name}:runtime-build-dependencies--${build_deps_image_version}
  stage: test
  tags:
  - gcp
  rules:
  - changes:
    - src/**/*
    - contrib/*kaitai*/**/*
    - .gitlab/**/*
    - .gitlab-ci.yml
    when: on_success
  needs:
  - oc.build_x86_64-released
  dependencies: []
  before_script:
  - . ./scripts/version.sh
  - eval $(opam env)
  script:
  - make -C ${CI_PROJECT_DIR} check-kaitai-struct-files || (echo 'Octez encodings
    and Kaitai files seem to be out of sync. You might need to run `make check-kaitai-struct-files`
    and commit the resulting diff.' ; false)
